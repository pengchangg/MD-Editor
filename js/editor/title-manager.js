const TitleManager={titleCache:{text:"",title:""},init:function(){this.debouncedUpdateDocumentTitle=UIUtils.debounce(this.updateDocumentTitle.bind(this),300)},updateDocumentTitle:function(){const t=performance.now(),e=window.AppElements.editor.value.substring(0,200);if(e===this.titleCache.text)return void(document.title!==this.titleCache.title&&(document.title=this.titleCache.title));let i=null;const n=e.match(/^(#{1,6})\s+([^\n]+)/m);if(n&&n[2])i=n[2].trim();else{const t=e.match(/^([^\n]+)\n={3,}$/m);if(t&&t[1])i=t[1].trim();else{const t=e.match(/^([^\n]+)\n-{3,}$/m);t&&t[1]&&(i=t[1].trim())}}let c="MarkDown 编辑器";i&&(i.length>50&&(i=i.substring(0,47)+"..."),c=`${i} - MarkDown 编辑器`),this.titleCache.text=e,this.titleCache.title=c,document.title!==c&&(document.title=c);const l=performance.now();PerformanceModule.recordMetric("titleUpdateTime",l-t)}};