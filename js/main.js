function loadInitialContent(){const e=localStorage.getItem("md_editor_content");e?editor.value=e:("undefined"!=typeof LanguageModule&&LanguageModule.getTranslation?editor.value=LanguageModule.getTranslation("welcome-text"):editor.value="# 欢迎使用 Markdown 编辑器\n\n## 基本语法演示\n\n1. **粗体文本**\n2. *斜体文本*\n3. ~~删除线~~\n\n### 列表示例\n- 项目 1\n- 项目 2\n  - 子项目 A\n  - 子项目 B\n\n### 代码示例\n```javascript\nconsole.log('Hello, Markdown!');\n```\n\n### 表格示例\n| 标题1 | 标题2 | 标题3 |\n| ----- | ----- | ----- |\n| 内容1 | 内容2 | 内容3 |\n| 内容4 | 内容5 | 内容6 |\n\n> 这是一个引用示例\n\n[点击访问](https://www.example.com)\n",Editor.updatePreview(),LineNumbersModule.updateLineNumbers())}function initAppConfig(){const e=navigator.platform.toUpperCase().indexOf("MAC")>=0,t=e?"⌘":"Ctrl",n=e?"⌥":"Alt";window.AppConfig={version:"v1.2.6",isMac:e,modKey:t,altKey:n,AUTO_SAVE_DELAY:5e3,MAX_HISTORY_STATES:100,PERFORMANCE_SAMPLE_RATE:.1},console.log("应用配置初始化完成, version:",window.AppConfig.version)}function cacheElements(){const e=document.getElementById("editor"),t=document.getElementById("preview"),n=document.getElementById("line-numbers"),o=document.querySelector(".editor-status"),i=document.querySelector(".cursor-position"),d=document.querySelector(".autosave-status"),l=document.querySelector(".save-message"),r=document.getElementById("notification"),a=document.getElementById("undo-btn"),u=document.getElementById("redo-btn"),s=document.getElementById("autosave-btn");window.AppElements={editor:e,preview:t,lineNumbers:n,editorStatus:o,cursorPosition:i,autosaveStatus:d,saveMessage:l,notification:r,undoBtn:a,redoBtn:u,autosaveBtn:s},console.log("DOM元素缓存完成")}function initTheme(){if("dark"===localStorage.getItem("markdown-editor-theme")){document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme");const e=document.getElementById("code-theme");e&&(e.href=e.href.replace("github.min.css","github-dark.min.css"))}console.log("主题初始化完成")}function initSplitView(){try{Split([".editor-container",".preview"],{sizes:[50,50],minSize:100,gutterSize:14,snapOffset:0,cursor:"col-resize"}),console.log("分割视图初始化完成")}catch(e){console.error("分割视图初始化失败:",e)}}document.addEventListener("DOMContentLoaded",(function(){console.log("Markdown编辑器初始化中..."),initAppConfig(),cacheElements(),initTheme(),initSplitView(),Editor.init(),HistoryModule.init(),LineNumbersModule.init(),TitleManager.init(),Toolbar.init(),ThemeModule.init(),ShortcutsModule.init(),ModalModule.init(),PerformanceModule.init(),Storage.init(),"undefined"!=typeof ExportModule&&ExportModule.init?(console.log("初始化ExportModule"),ExportModule.init()):console.error("ExportModule未定义或缺少init方法"),setTimeout((()=>{"undefined"!=typeof LanguageModule&&LanguageModule.init?(console.log("初始化LanguageModule"),LanguageModule.init(),loadInitialContent()):(console.error("LanguageModule未定义或缺少init方法"),loadInitialContent())}),100),Editor.updatePreview(),LineNumbersModule.updateLineNumbers(),TitleManager.updateDocumentTitle(),Editor.updateCursorPosition(),HistoryModule.addState(editor.value),console.log("Markdown编辑器初始化完成")}));